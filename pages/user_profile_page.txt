*** Settings ***

Documentation  This is dashboard page of Mylogistic
Resource  ../libs.txt

*** Variables ***
# User Profile elements
${PROFILE_FULL_NAME_VALUE}  xpath=//dd[1]
${PROFILE_CONDITIONS_VALUE}  xpath=//dd[2]
${PROFILE_EMAIL_VALUE}  xpath=//dd[3]
${PROFILE_INVOICE_LIMIT_VALUE}  xpath=//dd[4]
${PROFILE_REMAINING_AMOUNT_VALUE}  xpath=//dd[5]
${APPLY_TO_SPECIAL_CONDITION_BUTTON}  xpath=//a[contains(text(),'Apply to special conditions')]

# Condition Inquiry
${CONDITION_STANDARD_DD}  id=id_standard_national
${CONDITION_EXPRESS_DD}  id=id_express_national
${CONDITION_INTERNATIONAL_DD}  id=id_international
${CONDITION_TITLE_VALUE}  id=id_title
${CONDITION_MESSAGE_VALUE}  id=id_message
${CONDITION_SEND_BUTTON}  xpath=//input[@value='Send']

*** Keywords ***

# User Profile

Go to User Profile page
  [Documentation]  Open User Profile link directly
  Open Browser  ${HOME_URL}user/profile/

Check that Invoice Limit is correct
  [Arguments]  ${text}
  Element Should Contain  ${PROFILE_INVOICE_LIMIT_VALUE}  ${text}

Check that Invoice Remaining is correct
  [Arguments]  ${text}
  Element Should Contain  ${PROFILE_REMAINING_AMOUNT_VALUE}  ${text}

Click Apply to special conditions button on User Profile page
  [Documentation]  Clicks Apply to special conditions button on User Profile page
  Click Element  ${APPLY_TO_SPECIAL_CONDITION_BUTTON}

Verify that Condition Inquiry page is opened
  [Documentation]  Search /user/condition/inquiry/ in already opened URL
  Location Should Contain  /user/condition/inquiry/

Check that Conditions is
  [Arguments]  ${text}
  Element Should Contain  ${PROFILE_CONDITIONS_VALUE}  ${text}

Get default price price for Zone 1 and
  [Documentation]  Takes DDP code and return its display price
  [Arguments]  ${DDP_Code}
  ${text}=  Get Text  ${DDP_Code}
  [Return]  ${text}

Compare displayed price with MySQL price
  [Arguments]  ${d_price}  ${m_price}
  Should Be Equal As Numbers  ${d_price[0:-2]}  ${m_price[0][0]}

# Condition Inquiry 

Set value for Standard National Packages
  [Arguments]  ${text}
  Select From List By Value  ${CONDITION_STANDARD_DD}  ${text}
  
Set value for Express National Packages
  [Arguments]  ${text}
  Select From List By Value  ${CONDITION_EXPRESS_DD}  ${text}

Set value for International Packages
  [Arguments]  ${text}
  Select From List By Value  ${CONDITION_INTERNATIONAL_DD}  ${text}

Input Condition Inquiry title
  [Arguments]  ${text}
  Input Text  ${CONDITION_TITLE_VALUE}  ${text}

Input Condition Inquiry message
  [Arguments]  ${text}
  Input Text  ${CONDITION_MESSAGE_VALUE}  ${text}
  
Click Condition Inquiry Send button
  Click Element  ${CONDITION_SEND_BUTTON}
  
Verify that Condition Inquiry was sent successfully
  Location Should Contain  /user/condition/inquiry/success/


  