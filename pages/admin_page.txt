*** Settings ***

Documentation  This is admin page of Mylogistic
Resource  ../libs.txt

*** Variables ***
# Sign In elements
${ADMIN_EMAIL_INPUT}  id=id_username
${ADMIN_PASS_INPUT}  id=id_password
${ADMIN_LOG_IN_BUTTON}  xpath=//input[@value='Log in']

# Admin main panel
${ADMIN_CONDITION_INQUIRY_LINK}  xpath=//a[contains(text(),'Condition inquirys')]
${ADMIN_IND_DISCOUNT_LINK}  xpath=//a[contains(text(),'Individual discount prices')]
${ADMIN_USERS_LINK}  xpath=//a[contains(text(),'Users')]

# Individual Discount Price
${ADMIN_IND_DISCOUNT_ADD_BUTTON}  xpath=//a[contains(@href, 'add/')]
${ADMIN_IND_DISCOUNT_SIZE_DD}  id=id_size
${ADMIN_IND_DISCOUNT_ZONE_DD}  id=id_zone
${ADMIN_IND_DISCOUNT_SCODE_DD}  id=id_service_code
${ADMIN_IND_DISCOUNT_PRICE_VALUE}  id=id_discount_price
${ADMIN_IND_DISCOUNT_USER_DD}  id=id_user
${ADMIN_IND_DISCOUNT_SAVE_BUTTON}  xpath=//input[@name='_save']

# Condition inquiry elements
${ADMIN_LATEST_COND_INQUIRY}  css=th.nowrap > a
${ADMIN_CONDITION_SELECTOR_DD}  id=id_new_condition
${ADMIN_CONDITION_R&C_CHECKBOX}  id=id_read_and_check
${ADMIN_CONDITION_SAVE_BUTTON}  xpath=//input[@name='_save']

# Users section
${ADMIN_USERS_CURRENT_USER}  xpath=//a[contains(text(),'Test4 LN13')]
${ADMIN_USERS_CONDITION_DD}  id=id_condition

*** Keywords ***

# Admin Sign-In page

Input admin login in sign in admin page
  [Documentation]  admin login in sign in admin page
  Input Text  ${ADMIN_EMAIL_INPUT}  ${ADMIN_EMAIL}
  
Input admin password in sign in admin page
  [Documentation]  admin password in sign in admin page
  Input Text  ${ADMIN_PASS_INPUT}  ${ADMIN_PASS}
  
Click Log In button in admin page
  Click Element  ${ADMIN_LOG_IN_BUTTON}
  
Verify that admin pane is opened
  [Documentation]  Try to find 'Condition inquirys' link visible on the page
  Element Should Be Visible  ${ADMIN_CONDITION_INQUIRY_LINK}

Click Condition inquirys link in admin panel
  Click Element  ${ADMIN_CONDITION_INQUIRY_LINK}

Click latest condition inquiry from the condition inquiry list
  Click Element  ${ADMIN_LATEST_COND_INQUIRY}

Set New Condition in current condition inquiry request
  [Documentation]  Set new condition 1 - A: 1 - 25, 2 - B: 26 - 75, 3 - C: 76 - 125, 4 - D: 126 - 200, 5 - I: > 200
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_CONDITION_SELECTOR_DD}  ${text}

Check Read & Check checkbox in current condition inquiry
  Click Element  ${ADMIN_CONDITION_R&C_CHECKBOX}

Click Save button in current condition request
  Click Element  ${ADMIN_CONDITION_SAVE_BUTTON}

Verify that condition was changed successfully in admin panel
  Page Should Contain  The condition inquiry "Condition Inquiry Test Title" was changed successfully.
  

# Custom discount price 

Click Individual discount prices link on Admin page
  Click Element  ${ADMIN_IND_DISCOUNT_LINK}
  
Click Add button in Individual discount prices section
  Click Element  ${ADMIN_IND_DISCOUNT_ADD_BUTTON}
  
Select Size - Individual discount prices creation
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_IND_DISCOUNT_SIZE_DD}  ${text}

Select Zone - Individual discount prices creation 
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_IND_DISCOUNT_ZONE_DD}  ${text}

Select Service Code - Individual discount prices creation
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_IND_DISCOUNT_SCODE_DD}  ${text}

Input Discount Price - Individual discount prices creation  
  [Arguments]  ${text}
  Input Text  ${ADMIN_IND_DISCOUNT_PRICE_VALUE}  ${text}

Select User - Individual discount prices creation
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_IND_DISCOUNT_USER_DD}  ${text}
  
Click Save button - Individual discount prices creation
  Click Element  ${ADMIN_IND_DISCOUNT_SAVE_BUTTON}
  
Verify that individual price was added successfully in admin panel
  Page Should Contain  The Individual discount prices "IndividualDiscountPrice object" was added successfully. 
  

# Users section

Click Users link on Admin page
  Click Element  ${ADMIN_USERS_LINK}

Select current user on Admin page
  Click Element  ${ADMIN_USERS_CURRENT_USER}

Select customer type in Users section
  [Arguments]  ${text}
  Select From List By Value  ${ADMIN_USERS_CONDITION_DD}  ${text}
  
Verify that User setting was changed successfully in admin panel
  Page Should Contain  was changed successfully. 

